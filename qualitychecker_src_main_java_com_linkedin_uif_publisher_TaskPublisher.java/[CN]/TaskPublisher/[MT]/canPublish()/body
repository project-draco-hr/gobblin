{
  if (allComponentsFinished()) {
    LOG.info("All components finished successfully, checking quality tests");
    if (passedAllTests()) {
      LOG.info("All required test passed, committing data");
      if (cleanup()) {
        LOG.info("Cleanup executed successfully, finishing task");
        return PublisherState.SUCCESS;
      }
 else {
        return PublisherState.CLEANUP_FAIL;
      }
    }
 else {
      return PublisherState.POLICY_TESTS_FAIL;
    }
  }
 else {
    return PublisherState.COMPONENTS_NOT_FINISHED;
  }
}
