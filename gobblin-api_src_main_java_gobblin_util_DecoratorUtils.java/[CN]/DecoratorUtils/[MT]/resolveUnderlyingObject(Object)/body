{
  Object underlying=obj;
  while (underlying instanceof Decorator) {
    underlying=((Decorator)underlying).getDirectlyUnderlying();
  }
  return underlying;
}
