{
  PathAlterationObserver observer=new PathAlterationObserver(rootDirPath);
  observer.addListener(listener);
  monitor.addObserver(observer);
  Configuration conf=new Configuration();
  try (final FileSystem fileSystem=rootDirPath.getFileSystem(conf)){
    FileStatus[] subDirsStatus=fileSystem.listStatus(rootDirPath,new PathFilter(){
      @Override public boolean accept(      Path path){
        try {
          FileStatusEntry fileStatusEntry=new FileStatusEntry(path);
          return fileStatusEntry.isDirectory();
        }
 catch (        IOException e) {
          e.printStackTrace();
        }
        return false;
      }
    }
);
    if (subDirsStatus != null && subDirsStatus.length > 0) {
      ArrayList<Path> subDirsList=new ArrayList<>();
      for (      FileStatus subDirStatus : subDirsStatus) {
        subDirsList.add(subDirStatus.getPath());
      }
      if (subDirsList.size() == 0) {
        return;
      }
      for (      Path subDir : subDirsList) {
        addPathAlterationObserver(monitor,listener,subDir);
      }
    }
  }
 }
