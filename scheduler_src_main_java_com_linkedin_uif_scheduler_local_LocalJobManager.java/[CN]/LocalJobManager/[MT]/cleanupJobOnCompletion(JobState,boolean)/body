{
  String jobName=jobState.getJobName();
  String jobId=jobState.getJobId();
  LOG.info("Performing cleanup for job " + jobId);
  if (this.jobSourceMap.containsKey(jobId)) {
    this.jobSourceMap.remove(jobId).shutdown(jobState);
  }
  this.jobStateMap.remove(jobId);
  try {
    if (runOnce) {
      this.scheduledJobs.remove(jobName);
      if (this.runOnceJobs.containsKey(jobName)) {
        this.scheduler.deleteJob(this.runOnceJobs.remove(jobName));
      }
    }
 else {
      this.lastJobIdMap.put(jobName,jobId);
    }
  }
 catch (  Exception e) {
    LOG.error("Failed to cleanup job " + jobId,e);
  }
}
