{
  Closer closer=Closer.create();
  try {
    if (!fs.exists(masterPasswordFile) || fs.getFileStatus(masterPasswordFile).isDir()) {
      LOG.warn(masterPasswordFile + " does not exist or is not a file. Cannot decrypt any encrypted password.");
      return Optional.absent();
    }
    InputStream in=closer.register(fs.open(masterPasswordFile));
    return Optional.of(new LineReader(new InputStreamReader(in,Charsets.UTF_8)).readLine());
  }
 catch (  IOException e) {
    throw new RuntimeException("Failed to obtain master password from " + masterPasswordFile,e);
  }
 finally {
    try {
      closer.close();
    }
 catch (    IOException e) {
      throw new RuntimeException("Failed to close inputstream for " + masterPasswordFile,e);
    }
  }
}
