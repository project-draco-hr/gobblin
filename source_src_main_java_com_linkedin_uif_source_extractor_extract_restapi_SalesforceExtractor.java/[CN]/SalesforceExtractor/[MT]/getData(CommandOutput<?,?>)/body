{
  this.log.debug("Get data records from response");
  String output;
  Iterator<String> itr=(Iterator<String>)response.getResults().values().iterator();
  if (itr.hasNext()) {
    output=itr.next();
  }
 else {
    throw new DataRecordException("Failed to get data from salesforce; REST response has no output");
  }
  List<JsonElement> rs=new ArrayList<JsonElement>();
  JsonElement element=gson.fromJson(output,JsonObject.class);
  JsonArray partRecords;
  try {
    JsonObject jsonObject=element.getAsJsonObject();
    partRecords=jsonObject.getAsJsonArray("records");
    if (jsonObject.get("done").getAsBoolean()) {
      this.setPullStatus(false);
    }
 else {
      this.setNextUrl(this.getFullUri(jsonObject.get("nextRecordsUrl").getAsString().replaceAll(this.servicesDataEnvPath,"")));
    }
    JsonArray array=Utils.removeElementFromJsonArray(partRecords,"attributes");
    Iterator<JsonElement> li=array.iterator();
    while (li.hasNext()) {
      JsonElement recordElement=li.next();
      rs.add(recordElement);
    }
    return rs.iterator();
  }
 catch (  Exception e) {
    throw new DataRecordException("Failed to get records from salesforce; error - " + e.getMessage(),e);
  }
}
