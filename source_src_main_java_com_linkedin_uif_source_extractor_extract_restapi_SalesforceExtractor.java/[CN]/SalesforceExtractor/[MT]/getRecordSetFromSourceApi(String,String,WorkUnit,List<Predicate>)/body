{
  this.log.debug("Getting salesforce data using bulk api");
  RecordSet<JsonElement> rs=null;
  try {
    if (this.bulkApiInitialRun == true) {
      this.setBulkJobFinished(false);
      this.bulkResultIdList=this.getQueryResultIds(schema,entity,predicateList);
      this.log.info("Number of bulk api resultSet Ids:" + this.bulkResultIdList.size());
    }
    if (!this.isBulkJobFinished()) {
      rs=getBulkData();
    }
    this.bulkApiInitialRun=false;
    if (rs == null || rs.isEmpty()) {
      return this.getSoftDeletedRecords(schema,entity,workUnit,predicateList);
    }
    return rs.iterator();
  }
 catch (  Exception e) {
    throw new IOException("Failed to get records using bulk api; error - " + e.getMessage(),e);
  }
}
