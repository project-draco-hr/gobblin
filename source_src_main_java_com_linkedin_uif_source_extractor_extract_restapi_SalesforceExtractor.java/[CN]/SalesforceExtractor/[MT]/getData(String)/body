{
  this.log.debug("Get data records from response");
  RecordSetList<D> rs=new RecordSetList<D>();
  JsonElement element=gson.fromJson(response,JsonObject.class);
  JsonArray partRecords;
  try {
    JsonObject jsonObject=element.getAsJsonObject();
    partRecords=jsonObject.getAsJsonArray("records");
    if (jsonObject.get("done").getAsBoolean()) {
      this.setPullStatus(false);
    }
 else {
      this.setNextUrl(this.getFullUri(jsonObject.get("nextRecordsUrl").getAsString().replaceAll(this.servicesDataEnvPath,"")));
    }
    JsonArray array=Utils.removeElementFromJsonArray(partRecords,"attributes");
    Iterator<JsonElement> li=array.iterator();
    while (li.hasNext()) {
      JsonElement recordElement=li.next();
      rs.add((D)recordElement);
    }
    return rs;
  }
 catch (  Exception e) {
    e.printStackTrace();
    throw new DataRecordException("Failed to get records from salesforce; error-" + e.getMessage());
  }
}
