{
  if (classA.isAssignableFrom(classB)) {
    return classA;
  }
 else {
    Class<?> klazz=classA;
    while (!klazz.isAssignableFrom(classB)) {
      klazz=klazz.getSuperclass();
    }
    if (DatasetVersion.class.isAssignableFrom(klazz)) {
      return (Class<? extends DatasetVersion>)klazz;
    }
 else {
      return DatasetVersion.class;
    }
  }
}
