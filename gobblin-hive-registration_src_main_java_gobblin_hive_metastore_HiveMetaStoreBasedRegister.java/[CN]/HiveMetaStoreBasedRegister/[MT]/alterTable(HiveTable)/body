{
  IMetaStoreClient client=borrowClient();
  HiveLock lock=locks.getTableLock(table.getDbName(),table.getTableName());
  lock.lock();
  try {
    if (!client.tableExists(table.getDbName(),table.getTableName())) {
      throw new IOException("Table " + table.getTableName() + " in db "+ table.getDbName()+ " does not exist");
    }
    client.alter_table(table.getDbName(),table.getTableName(),HiveMetaStoreUtils.getTable(table));
  }
 catch (  TException e) {
    throw new IOException("Unable to alter table " + table.getTableName() + " in db "+ table.getDbName(),e);
  }
 finally {
    lock.unlock();
    this.clientPool.returnObject(client);
  }
}
