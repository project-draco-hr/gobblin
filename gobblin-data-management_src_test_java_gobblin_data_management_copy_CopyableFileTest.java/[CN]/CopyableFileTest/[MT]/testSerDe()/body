{
  CopyableFile copyableFile=new CopyableFile(new FileStatus(10,false,12,100,12345,new Path("/path")),new Path("/destination"),new OwnerAndPermission("owner","group",FsPermission.getDefault()),Lists.newArrayList(new OwnerAndPermission("owner2","group2",FsPermission.getDefault())),"checksum".getBytes());
  ByteArrayOutputStream os=new ByteArrayOutputStream();
  copyableFile.write(new DataOutputStream(os));
  byte[] bytes=os.toByteArray();
  ByteArrayInputStream is=new ByteArrayInputStream(bytes);
  CopyableFile deserialized=CopyableFile.read(new DataInputStream(is));
  Assert.assertEquals(copyableFile,deserialized);
}
