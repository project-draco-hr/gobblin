{
  try {
    boolean wasInterrupted=false;
    IOException exception=null;
    for (    Future<?> future : this.futures) {
      try {
        if (wasInterrupted) {
          future.cancel(true);
        }
 else {
          future.get();
        }
      }
 catch (      InterruptedException ie) {
        wasInterrupted=true;
        if (exception == null) {
          exception=new IOException(ie);
        }
      }
catch (      ExecutionException ee) {
        if (exception == null) {
          exception=new IOException(ee.getCause());
        }
      }
    }
    if (exception != null) {
      throw exception;
    }
  }
  finally {
    ExecutorsUtils.shutdownExecutorService(this.executor,Optional.of(LOGGER));
  }
}
