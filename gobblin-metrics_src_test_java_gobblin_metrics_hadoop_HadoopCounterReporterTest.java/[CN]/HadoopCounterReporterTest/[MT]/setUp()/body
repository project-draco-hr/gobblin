{
  Reporter mockedReporter=Mockito.mock(Reporter.class);
  this.recordsProcessed=Mockito.mock(Counters.Counter.class);
  Mockito.when(mockedReporter.getCounter(CONTEXT_NAME,RECORDS_PROCESSED)).thenReturn(this.recordsProcessed);
  this.hadoopCounterReporter=HadoopCounterReporter.builder(mockedReporter).convertRatesTo(TimeUnit.SECONDS).convertDurationsTo(TimeUnit.SECONDS).filter(MetricFilter.ALL).build(MetricContext.builder(CONTEXT_NAME).build());
}
