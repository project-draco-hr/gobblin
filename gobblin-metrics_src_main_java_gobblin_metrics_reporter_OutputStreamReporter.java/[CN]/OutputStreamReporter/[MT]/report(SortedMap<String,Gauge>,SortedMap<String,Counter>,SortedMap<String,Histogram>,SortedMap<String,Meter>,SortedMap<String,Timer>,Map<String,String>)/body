{
  final String dateTime=dateFormat.format(new Date(clock.getTime()));
  printWithBanner(dateTime,'=');
  this.output.println();
  Map<String,String> allTags=Maps.newHashMap();
  allTags.putAll(tags);
  allTags.putAll(this.tags);
  if (!allTags.isEmpty()) {
    printWithBanner("-- Tags",'-');
    for (    Map.Entry<String,String> entry : allTags.entrySet()) {
      this.output.println(String.format("%s=%s",entry.getKey(),entry.getValue()));
    }
    this.output.println();
  }
  if (!gauges.isEmpty()) {
    printWithBanner("-- Gauges",'-');
    for (    Map.Entry<String,Gauge> entry : gauges.entrySet()) {
      this.output.println(entry.getKey());
      printGauge(entry);
    }
    this.output.println();
  }
  if (!counters.isEmpty()) {
    printWithBanner("-- Counters",'-');
    for (    Map.Entry<String,Counter> entry : counters.entrySet()) {
      this.output.println(entry.getKey());
      printCounter(entry);
    }
    this.output.println();
  }
  if (!histograms.isEmpty()) {
    printWithBanner("-- Histograms",'-');
    for (    Map.Entry<String,Histogram> entry : histograms.entrySet()) {
      this.output.println(entry.getKey());
      printHistogram(entry.getValue());
    }
    this.output.println();
  }
  if (!meters.isEmpty()) {
    printWithBanner("-- Meters",'-');
    for (    Map.Entry<String,Meter> entry : meters.entrySet()) {
      this.output.println(entry.getKey());
      printMeter(entry.getValue());
    }
    this.output.println();
  }
  if (!timers.isEmpty()) {
    printWithBanner("-- Timers",'-');
    for (    Map.Entry<String,Timer> entry : timers.entrySet()) {
      this.output.println(entry.getKey());
      printTimer(entry.getValue());
    }
    this.output.println();
  }
  this.output.println();
  this.output.flush();
}
