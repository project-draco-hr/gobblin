{
  if (this.registry.isPresent()) {
    if (!this.registrySchemaId.isPresent()) {
      this.registrySchemaId=Optional.of(this.registry.get().register(MetricReport.SCHEMA$));
    }
    outputStream.writeByte(KafkaAvroSchemaRegistry.MAGIC_BYTE);
    try {
      outputStream.write(Hex.decodeHex(this.registrySchemaId.get().toCharArray()));
    }
 catch (    DecoderException exception) {
      throw new IOException(exception);
    }
  }
 else {
    super.writeSchemaVersioningInformation(outputStream);
  }
}
