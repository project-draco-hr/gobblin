{
  String jobName=jobProps.getProperty(ConfigurationKeys.JOB_NAME_KEY);
  if (Strings.isNullOrEmpty(jobName)) {
    throw new JobException("A job must have a job name specified by job.name");
  }
  jobProps.setProperty(ConfigurationKeys.JOB_ID_KEY,JobLauncherUtil.newJobId(jobName));
  try {
    JobLauncher jobLauncher=JobLauncherFactory.newJobLauncher(this.properties);
    jobLauncher.launchJob(jobProps);
  }
 catch (  Throwable t) {
    String errMsg="Failed to launch and run job " + jobName;
    LOG.error(errMsg,t);
    throw new JobException(errMsg,t);
  }
}
