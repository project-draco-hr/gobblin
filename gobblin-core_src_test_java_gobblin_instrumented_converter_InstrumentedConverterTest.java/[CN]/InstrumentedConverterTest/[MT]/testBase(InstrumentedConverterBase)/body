{
  converter.init(new WorkUnitState());
  Iterable<String> iterable=converter.convertRecord("schema","record",new WorkUnitState());
  Map<String,Long> metrics=MetricsHelper.dumpMetrics(converter.getMetricContext());
  Assert.assertEquals(metrics.get(MetricNames.Converter.RECORDS_IN),Long.valueOf(1));
  Assert.assertEquals(metrics.get(MetricNames.Converter.RECORDS_OUT),Long.valueOf(0));
  Assert.assertEquals(metrics.get(MetricNames.Converter.CONVERT_TIME),Long.valueOf(1));
  iterable.iterator().next();
  metrics=MetricsHelper.dumpMetrics(converter.getMetricContext());
  Assert.assertEquals(metrics.get(MetricNames.Converter.RECORDS_IN),Long.valueOf(1));
  Assert.assertEquals(metrics.get(MetricNames.Converter.RECORDS_OUT),Long.valueOf(1));
  Assert.assertEquals(MetricsHelper.dumpTags(converter.getMetricContext()).get("construct"),Constructs.CONVERTER.toString());
}
