{
  super(builder.registry,builder.name,builder.filter,builder.rateUnit,builder.durationUnit);
  lastSerializeExceptionTime=0;
  this.host=builder.host;
  this.env=builder.env;
  this.tags=builder.tags;
  Properties props=new Properties();
  props.put("metadata.broker.list",builder.brokers);
  props.put("serializer.class","kafka.serializer.DefaultEncoder");
  props.put("request.required.acks","1");
  config=new ProducerConfig(props);
  producer=new Producer<String,byte[]>(config);
  this.topic=builder.topic;
}
