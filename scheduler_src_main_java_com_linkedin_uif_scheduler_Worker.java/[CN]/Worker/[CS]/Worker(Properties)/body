{
  this.properties=properties;
  TaskExecutor taskExecutor=new TaskExecutor(properties);
  TaskStateTracker taskStateTracker=new LocalTaskStateTracker(properties,taskExecutor);
  WorkUnitManager workUnitManager=new WorkUnitManager(taskExecutor,taskStateTracker);
  LocalJobManager jobManager=new LocalJobManager(workUnitManager,properties);
  ((LocalTaskStateTracker)taskStateTracker).setJobManager(jobManager);
  this.serviceManager=new ServiceManager(Lists.newArrayList(taskExecutor,taskStateTracker,workUnitManager,jobManager));
}
