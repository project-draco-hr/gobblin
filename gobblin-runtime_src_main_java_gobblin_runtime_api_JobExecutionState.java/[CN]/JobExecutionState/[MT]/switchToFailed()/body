{
  this.changeLock.lock();
  try {
    Preconditions.checkState(RunningState.PENDING == this.runningState || RunningState.RUNNING == this.runningState || RunningState.SUCCESSFUL == this.runningState,"unexpected state:" + this.runningState);
    doRunningStateChange(RunningState.FAILED);
  }
  finally {
    this.changeLock.unlock();
  }
}
