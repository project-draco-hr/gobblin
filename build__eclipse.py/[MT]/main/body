def main(argv):
    global cur_dir, project_file, classpath_file
    cur_dir = os.getcwd()
    global options
    parser = OptionParser(usage='usage: %prog [options]')
    parser.add_option('', '--skip_build', action='store_true', dest='skip_build', default=False, help='skip build')
    parser.add_option('', '--skip_non_git_file', action='store_true', dest='skip_non_git_file', default=False, help='skip non svn file')
    (options, args) = parser.parse_args()
    if (not options.skip_build):
        if (not os.path.exists(os.path.join(cur_dir, 'build.gradle'))):
            print 'current directory does not have build.gradle! Use --skip_build to skip ligradle call'
            sys.exit(1)
        os.system('./gradlew jar eclipse')
    classpath_files = find_file_recursively('.classpath')
    if (not classpath_files):
        print 'There is no .classpath under current directory!'
        sys.exit(1)
    project_file = os.path.join(cur_dir, '.project')
    classpath_file = os.path.join(cur_dir, '.classpath')
    backup_files()
    generate_project_file()
    if (classpath_file in classpath_files):
        classpath_files.remove(classpath_file)
    generate_classpath_file(classpath_files)
