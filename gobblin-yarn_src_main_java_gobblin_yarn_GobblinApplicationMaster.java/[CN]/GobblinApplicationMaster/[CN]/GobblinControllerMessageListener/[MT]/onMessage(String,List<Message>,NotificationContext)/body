{
  for (  Message message : messages) {
    if (message.getMsgType().equalsIgnoreCase(Message.MessageType.USER_DEFINE_MSG.toString())) {
      if (message.getMsgSubType().equalsIgnoreCase(HelixMessageSubTypes.APPLICATION_MASTER_SHUTDOWN.toString())) {
        LOGGER.info("Received SHUTDOWN message, stopping the ApplicationMaster");
        message.setMsgState(Message.MessageState.READ);
        GobblinApplicationMaster.this.stop();
        break;
      }
    }
  }
}
