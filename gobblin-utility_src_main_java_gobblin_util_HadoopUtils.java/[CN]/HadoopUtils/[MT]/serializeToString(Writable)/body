{
  Closer closer=Closer.create();
  try {
    ByteArrayOutputStream byteArrayOutputStream=closer.register(new ByteArrayOutputStream());
    DataOutputStream dataOutputStream=closer.register(new DataOutputStream(byteArrayOutputStream));
    writable.write(dataOutputStream);
    return BaseEncoding.base64().encode(byteArrayOutputStream.toByteArray());
  }
 catch (  Throwable t) {
    throw closer.rethrow(t);
  }
 finally {
    closer.close();
  }
}
