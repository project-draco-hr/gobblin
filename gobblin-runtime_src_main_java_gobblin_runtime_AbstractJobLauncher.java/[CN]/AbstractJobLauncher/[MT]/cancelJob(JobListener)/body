{
synchronized (this.cancellationRequest) {
    if (this.cancellationRequested) {
      return;
    }
    this.cancellationRequested=true;
    this.cancellationRequest.notify();
  }
synchronized (this.cancellationExecution) {
    Closer closer=Closer.create();
    try {
      while (!this.cancellationExecuted) {
        this.cancellationExecution.wait();
      }
      JobListener parallelJobListener=closer.register(getParallelCombinedJobListener(jobListener));
      parallelJobListener.onJobCancellation(this.jobContext.getJobState());
    }
 catch (    InterruptedException ie) {
      Thread.currentThread().interrupt();
    }
 finally {
      try {
        closer.close();
      }
 catch (      IOException e) {
        throw new JobException("Failed to execute all JobListeners",e);
      }
    }
  }
}
