{
synchronized (this.cancellationRequest) {
    if (this.cancellationRequested) {
      return;
    }
    this.cancellationRequested=true;
    this.cancellationRequest.notify();
  }
synchronized (this.cancellationExecution) {
    try (CloseableJobListener parallelJobListener=getParallelCombinedJobListener(jobListener)){
      while (!this.cancellationExecuted) {
        this.cancellationExecution.wait();
      }
      parallelJobListener.onJobCancellation(this.jobContext.getJobState());
    }
 catch (    InterruptedException ie) {
      Thread.currentThread().interrupt();
    }
catch (    IOException e) {
      throw new JobException("Failed to execute all JobListeners",e);
    }
  }
}
