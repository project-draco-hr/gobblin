{
  if (allComponentsFinished()) {
    if (passedAllTests()) {
      if (publishData()) {
        if (publishMetadata()) {
          if (cleanup()) {
            return PublisherState.SUCCESS;
          }
 else {
            return PublisherState.CLEANUP_FAIL;
          }
        }
 else {
          return PublisherState.METADATA_FAIL;
        }
      }
 else {
        return PublisherState.DATA_FAIL;
      }
    }
 else {
      return PublisherState.TESTS_FAIL;
    }
  }
 else {
    return PublisherState.COMPONENTS_FAIL;
  }
}
