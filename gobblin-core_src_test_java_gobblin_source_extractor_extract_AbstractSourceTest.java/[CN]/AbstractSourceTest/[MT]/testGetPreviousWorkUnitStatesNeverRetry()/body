{
  TestSource testSource=new TestSource();
  SourceState mockedState=mock(SourceState.class);
  when(mockedState.contains(ConfigurationKeys.WORK_UNIT_RETRY_POLICY_KEY)).thenReturn(Boolean.TRUE);
  when(mockedState.getProp(ConfigurationKeys.WORK_UNIT_RETRY_POLICY_KEY)).thenReturn("never");
  Assert.assertEquals(testSource.getPreviousWorkUnitStatesForRetry(mockedState),Collections.EMPTY_LIST);
}
