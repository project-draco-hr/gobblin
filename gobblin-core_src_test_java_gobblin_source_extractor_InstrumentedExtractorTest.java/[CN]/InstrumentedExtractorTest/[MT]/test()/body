{
  WorkUnitState state=new WorkUnitState();
  TestInstrumentedExtractor extractor=new TestInstrumentedExtractor(state);
  extractor.readRecord("");
  Map<String,Long> metrics=MetricsHelper.dumpMetrics(extractor.instrumented);
  Assert.assertEquals(metrics.get("gobblin.extractor.records.read"),Long.valueOf(1));
  Assert.assertEquals(metrics.get("gobblin.extractor.records.failed"),Long.valueOf(0));
  Assert.assertEquals(metrics.get("gobblin.extractor.extract.time"),Long.valueOf(1));
  Assert.assertEquals(MetricsHelper.dumpTags(extractor.instrumented).get("component"),"extractor");
}
