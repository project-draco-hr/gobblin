{
  this.workUnitState=workUnitState;
  this.workUnit=workUnitState.getWorkunit();
  this.filesToPull=Lists.newArrayList(workUnitState.getPropAsList(ConfigurationKeys.SOURCE_FILEBASED_FILES_TO_PULL,""));
  this.statusCount=this.workUnit.getPropAsInt(ConfigurationKeys.FILEBASED_REPORT_STATUS_ON_COUNT,ConfigurationKeys.DEFAULT_FILEBASED_REPORT_STATUS_ON_COUNT);
  this.fsHelper=fsHelper;
  try {
    this.fsHelper.connect();
  }
 catch (  FileBasedHelperException e) {
    Throwables.propagate(e);
  }
}
