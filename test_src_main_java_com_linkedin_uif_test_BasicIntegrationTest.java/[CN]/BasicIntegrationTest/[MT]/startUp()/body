{
  Properties properties=new Properties();
  properties.setProperty("state.store.dir","test/state-store");
  properties.setProperty("state.store.fs.uri","file:///");
  properties.setProperty("taskexecutor.threadpool.size","2");
  properties.setProperty("tasktracker.threadpool.coresize","2");
  properties.setProperty("tasktracker.threadpool.maxsize","2");
  TaskExecutor taskExecutor=new TaskExecutor(properties);
  TaskStateTracker taskStateTracker=new LocalTaskStateTracker(properties,taskExecutor);
  WorkUnitManager workUnitManager=new WorkUnitManager(taskExecutor,taskStateTracker);
  this.jobManager=new LocalJobManager(workUnitManager,properties);
  ((LocalTaskStateTracker)taskStateTracker).setJobManager(jobManager);
  this.serviceManager=new ServiceManager(Lists.newArrayList(taskExecutor,taskStateTracker,workUnitManager,jobManager));
  this.serviceManager.startAsync();
}
