{
  List<String> allImports=Lists.newArrayList();
  try {
    if (!fs.exists(p) || !fs.isFile(p)) {
      return allImports;
    }
  }
 catch (  IOException e) {
    LOG.error("Caught IOException when listing path " + p,e);
    return allImports;
  }
  Closer closer=Closer.create();
  try {
    FSDataInputStream fsDataInputStream=closer.register(fs.open(p));
    InputStreamReader inputStreamReader=closer.register(new InputStreamReader(fsDataInputStream));
    BufferedReader br=closer.register(new BufferedReader(inputStreamReader));
    String line=br.readLine();
    while (line != null) {
      Path singleImport=new Path(getVersionRoot(version),line);
      if (this.fs.isDirectory(singleImport)) {
        allImports.add(line);
      }
 else {
        LOG.error("Invalid imported for " + line);
      }
      line=br.readLine();
    }
  }
 catch (  IOException exception) {
    LOG.error("Could not find imports at path " + p,exception);
    return Lists.newArrayList();
  }
 finally {
    try {
      closer.close();
    }
 catch (    IOException e) {
      LOG.error("Could not close the stream " + p,e);
    }
  }
  return allImports;
}
